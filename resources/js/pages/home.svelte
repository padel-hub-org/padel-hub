<script lang="ts">
    import { redirectToGoogle } from "@/actions/App/Http/Controllers/AuthController";

    import { Button } from "@/lib/components/ui/button";
    import { logout } from "@/routes";
    import type { User } from "@/types/User";

    interface Props {
        user?: User;
    }

    let { user }: Props = $props();
</script>

<div>
    <h1 class="mb-4">Welcome {user?.name ?? "Guest"}</h1>

    {#if user}
        <Button href="/players">Go to Players</Button>
        <Button href={logout()}>Log out</Button>
    {:else}
        <Button href={redirectToGoogle()}>Log in with Google</Button>
    {/if}
</div>
